<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>マツケンスワイプ</title>
    <meta name="description" content="">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <!-- og -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@inaniwa3">
    <meta property="og:title" content="マツケンスワイプ">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://inaniwa3.github.io/matsuken-swipe/">
    <meta property="og:image" content="https://inaniwa3.github.io/matsuken-swipe/og.png">
    <style>
      body {
        width: 10000%;
        margin: 0;
        padding: 0;
      }
      #loading {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 10vmin;
        height: 10vmin;
      }
      #matsuken {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
    </style>
  </head>
  <body>
    <br>
    <img id="loading" src="loading.gif"></img>
    <img id="matsuken"></img>
    <script>
      const N = 70;
      let imgs = [];
      function preload() {
        for (let i = 0; i < N; i++) {
          imgs[i] = new Image();
          imgs[i].src = 'img/' + ('0' + i).slice(-2) + '.png';
        }
      }
      function update() {
        let matsuken = document.getElementById('matsuken');
        let n = Math.floor((window.pageXOffset + N * 10) / 2) % N;
        matsuken.src = imgs[n].src;
      }
      preload();
      window.onload = function() {
        document.getElementById('loading').style.display = 'none';
        update();
        document.addEventListener('scroll', update);
      };
    </script>
  </body>
</html>
